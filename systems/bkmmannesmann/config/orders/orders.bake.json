[
    {
      "resource_module": "orders",
      "import": true,
      "resource": {
        "identifier": "orders",
        "icon": "mdi:shopping-cart-outline",
        "title": "'Bestellung von '.ordered_by->brezel_name",
        "layouts": {
          "detail": "${file('config/orders/orders.detail.json')}",
          "index": "${file('config/orders/orders.index.json')}"
        },
        "fields": [
          {
            "identifier": "status",
            "type": "choice",
            "options": {
                "values": [
                    "pending",
                    "processing",
                    "shipped",
                    "delivered",
                    "cancelled",
                    "returned"
                ]
            }
          },
          {
            "identifier": "ordered_by",
            "type": "select",
            "options": {
                "references": "users"
            }
          },
          {
            "identifier": "order_date",
            "type": "date"
          },
          {
            "identifier": "order_number",
            "type": "text"
          },
          {
            "identifier": "items",
            "type": "list",
            "options": {
                "fields": [
                    {
                        "identifier": "product",
                        "type": "select",
                        "options": {
                           "references": "products"
                        }
                    },
                    {
                        "identifier": "amount",
                        "type": "number",
                        "options": {
                            "suffix": "St√ºck"
                        }
                    },
                    {
                        "identifier": "unit_price",
                        "type": "currency",
                        "recipe": "product.price_netto"
                    },
                    {
                        "identifier": "unit_total",
                        "type": "currency",
                        "recipe": "product.price_netto * amount"
                    }
                ]
            }
          },
          {
            "identifier": "items_total",
            "type": "currency",
            "recipe": "sum(items[*].unit_total)"
          }
        ]
      }
    }
  ]
  